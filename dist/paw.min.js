/*! paw.js // @version 1.0.6, @license MIT, @author dameleon <dameleon@gmail.com> */
!function(t,e){"use strict";function i(i,n){if(i&&!i.addEventListener)throw new Error("Argument Error: First argument must be Node");var s=this.setting={};i=i||T,n||(n={});for(var r in p)s[r]=n[r]!==e?n[r]:p[r];s.view=i.defaultView||i.ownerDocument&&i.ownerDocument.defaultView||t,this.rootNode=i,this.rootNode.addEventListener(N.START,this),this.handlers={},this.timers={}}function n(t){switch(t.type){case N.MOVE:this.onMove(t);break;case N.START:this.onStart(t);break;case N.END:this.onEnd(t);break;case N.CANCEL:this.onCancel(t)}}function s(t){for(var e,n,s,r=this.setting,o=this.handlers,a=l(t),E=0,h=a.length;h>E;E++)n=a[E],s=n[m],e=new i.Touch(s,n,r),o[s]=e,this.setTimer(s);this.bindEvents()}function r(t){for(var e,i,n,s=this.handlers,r=l(t),o=0,a=r.length;a>o;o++)e=r[o],n=e[m],i=s[n],i&&i.move(e)}function o(t){for(var e,i,n,s=this.handlers,r=l(t),o=0,a=r.length;a>o;o++)e=r[o],n=e[m],i=s[n],i&&(i.end(e),delete s[n]),this.clearTimer(n);this.unbindEvents()}function a(t){for(var e,i,n,s=this.handlers,r=l(t),o=0,a=r.length;a>o;o++)e=r[o],n=e[m],i=s[n],i&&(i.cancel(e),delete s[n]),this.clearTimer(n);this.unbindEvents()}function E(t){var e=this.handlers,i=e[t];i&&(i.timeout(),delete e[t]),this.clearTimer(t)}function h(e){var i=this;this.timers[e]=t.setTimeout(function(){i.onTimeout(e)},this.setting.pressDuration)}function u(e){var i=this.timers;t.clearTimeout(i[e]),delete i[e]}function c(){if(!this.boundEvents){var t=this.rootNode;this.boundEvents=!0,t.addEventListener(N.MOVE,this),t.addEventListener(N.END,this),t.addEventListener(N.CANCEL,this)}}function d(){if(this.boundEvents&&!(i.keys(this.handlers).length>0)){var t=this.rootNode;this.boundEvents=!1,t.removeEventListener(N.MOVE,this),t.removeEventListener(N.END,this),t.removeEventListener(N.CANCEL,this)}}function v(t){var e=this.handlers;for(var n in e)delete e[n],this.clearTimer(n);this.rootNode.removeEventListener(N.START),this.unbindEvents(),t&&i.Touch.dispose()}function l(t){return f&&t.changedTouches||[t]}var T=t.document,f="ontouchstart"in T,g=!!t.PointerEvent,N={START:f&&"touchstart"||g&&"pointerdown"||"mousedown",MOVE:f&&"touchmove"||g&&"pointermove"||"mousemove",END:f&&"touchend"||g&&"pointerup"||"mouseup",CANCEL:f&&"touchcancel"||g&&"pointercancel"||"mouseleave"},p={pressDuration:500,doubleTapDuration:400,motionThreshold:5,fastClick:!0},m=f&&"identifier"||g&&"pointerId"||"button";i.IS_SUPPORT_TOUCH_EVENT=f,i.IS_SUPPORT_POINTER_EVENT=g,i.EVENT_TYPES={TAP:"tap",DOUBLE_TAP:"doubletap",PRESS:"press",CLICK:"click"},i.EVENT_INTERFACES={TOUCH_EVENT:"touchevent",POINTER_EVENT:"pointerevent",MOUSE_EVENT:"mouseevent"},i.keys=Object.keys||_&&_.keys,i.prototype={constructor:i,handleEvent:n,onStart:s,onMove:r,onEnd:o,onCancel:a,onTimeout:E,setTimer:h,clearTimer:u,bindEvents:c,unbindEvents:d,dispose:v},t.Paw=i,"process"in t||"function"!=typeof define||!define.amd||define([],function(){return i})}(this.self||global,void 0),function(t){"use strict";if(!t.Paw)throw new Error('"Paw" does not exist in global');var e=t.Paw,i=t.document,n=!0;try{i.createEvent("CustomEvent")}catch(s){n=!1}e.Event=n?function(t,e,n,s){var r=i.createEvent("CustomEvent");return r.initEvent(t,e,n,s),r}:function(t,e,n,s){var r=i.createEvent("Event");return r.initEvent(t,e,n),s&&(r.detail=s),r},e.MouseEvent=function(t,e,n,s,r,o,a,E,h,u,c,d,v,l,T){var f=i.createEvent("MouseEvent");return f.initMouseEvent(t,e,n,s,r,o,a,E,h,u,c,d,v,l,T),f}}(this.self||global,void 0),function(t){"use strict";function e(t,e,i){this.id=t,this.setting=i,this.target=e.target,this.lastTouchInfo=e,this.startX=e.pageX,this.startY=e.pageY,this.disposeTimer=null,this.preventClick=!1,i.fastClick&&i.view.addEventListener(v.CLICK,this,!0)}function i(t){this.lastTouchInfo=t}function n(t){var e,i,n=this.setting,s=t.pageX,r=t.pageY,o=s-this.startX,a=r-this.startY;if(N(o*o+a*a)<=n.motionThreshold){if(this.target!==t.target)if(e=this.target.compareDocumentPosition(t.target),e===f||e===g)this.target=t.target;else if(e!==T)return this.dispose();i=this.triggerEvent(v.TAP,t),i?(n.fastClick&&this.triggerMouseEvent(v.CLICK,t),c(this.target,n.doubleTapDuration)&&this.triggerEvent(v.DOUBLE_TAP,t)):n.fastClick&&(this.preventClick=!0),u(this.target)}this.dispose()}function s(){var e=this;this.setting.fastClick?this.disposeTimer=t.setTimeout(function(){e.unbindClickEvent()},400):this.unbindClickEvent()}function r(){var t,e=this.lastTouchInfo,i=e.pageX,n=e.pageY,s=i-this.startX,r=n-this.startY;if(N(s*s+r*r)<=this.setting.motionThreshold){if(this.target!==e.target)if(t=this.target.compareDocumentPosition(e.target),t===f||t===g)this.target=e.target;else if(t!==T)return this.dispose();this.triggerEvent(v.PRESS,e)}this.dispose()}function o(t,e){var i={identifier:this.id,pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,screenX:e.screenX,screenY:e.screenY},n=d.Event(t,l.BUBBLES,l.CANCELABLE,i);return this.target.dispatchEvent(n)}function a(t,e){var i=d.MouseEvent(t,l.BUBBLES,l.CANCELABLE,this.setting.view,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,this.id,null);return this.target.dispatchEvent(i)}function E(e){return this.preventClick?(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),t.clearTimeout(this.disposeTimer),this.unbindClickEvent(),!1):void(this.preventClick=!0)}function h(){this.setting.view.removeEventListener(v.CLICK,this,!0)}function u(t){var e=p;e.target=t,e.updatedTime=Date.now()}function c(t,e){var i=p;return i.target===t&&e>=Date.now()-i.updatedTime?!0:!1}if(!t.Paw)throw new Error('"Paw" does not exist in global');var d=t.Paw,v=d.EVENT_TYPES,l={BUBBLES:!0,CANCELABLE:!0,DETAIL_EVENT_INTERFACE:d.IS_SUPPORT_TOUCH_EVENT&&d.EVENT_INTERFACES.TOUCH_EVENT||d.IS_SUPPORT_POINTER_EVENT&&d.EVENT_INTERFACES.POINTER_EVENT||d.EVENT_INTERFACES.MOUSE_EVENT},T=0,f=t.Node.DOCUMENT_POSITION_PRECEDING|t.Node.DOCUMENT_POSITION_CONTAINS,g=t.Node.DOCUMENT_POSITION_FOLLOWING|t.Node.DOCUMENT_POSITION_CONTAINED_BY,N=t.Math.sqrt,p={target:null,updatedTime:null};e.dispose=function(){var t=p;t.target=t.updatedTime=null},e.prototype={constructor:e,cancel:s,dispose:s,end:n,handleEvent:E,move:i,timeout:r,triggerEvent:o,triggerMouseEvent:a,unbindClickEvent:h},d.Touch=e}(this.self||global,void 0);